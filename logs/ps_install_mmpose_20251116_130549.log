**********************
Начало записи сценария Windows PowerShell
Время начала: 20251116130549
Имя пользователя: BERS\artae
Запуск от имени пользователя: BERS\artae
Имя конфигурации: 
Компьютер: BERS (Microsoft Windows NT 10.0.26200.0)
Ведущее приложение: C:\WINDOWS\System32\WindowsPowerShell\v1.0\powershell.exe
ИД процесса: 27512
PSVersion: 5.1.26100.7019
PSEdition: Desktop
PSCompatibleVersions: 1.0, 2.0, 3.0, 4.0, 5.0, 5.1.26100.7019
BuildVersion: 10.0.26100.7019
CLRVersion: 4.0.30319.42000
WSManStackVersion: 3.0
PSRemotingProtocolVersion: 2.3
SerializationVersion: 1.1.0.1
**********************
Транскрибирование запущено, выходной файл logs\ps_install_mmpose_20251116_130549.log
PS D:\GM\tools\2_Landmarking_v1.0> Write-Host "=== Step: install MMPose stack (HRNet-W32) into .venv_lm ==="
=== Step: install MMPose stack (HRNet-W32) into .venv_lm ===
PS D:\GM\tools\2_Landmarking_v1.0> # --- 1. Находим Python из .venv_lm ---
PS D:\GM\tools\2_Landmarking_v1.0> $py = ".\.venv_lm\Scripts\python.exe"
PS D:\GM\tools\2_Landmarking_v1.0> if (!(Test-Path $py)) {
    Write-Host "[ERR] .venv_lm\Scripts\python.exe not found. Cannot install MMPose."
} else {
    Write-Host "[INFO] Using Python: $py"
    Write-Host "[INFO] Upgrading pip..."
    & $py -m pip install -U pip

    Write-Host "[INFO] Installing OpenMIM (helper from OpenMMLab)..."
    & $py -m pip install -U openmim

    Write-Host "[INFO] Installing mmengine via mim..."
    & $py -m mim install mmengine

    Write-Host "[INFO] Installing mmcv (>=2.0.1) via mim..."
    & $py -m mim install "mmcv>=2.0.1"

    Write-Host "[INFO] Installing mmpose via mim (will pull HRNet-W32 and др.)..."
    & $py -m mim install "mmpose>=1.3.0"

    # Небольшая проверка: модули импортируются?
    Write-Host "[INFO] Quick import test (mmengine, mmcv, mmpose)..."
    $checkScript = @'
import sys
print("Python:", sys.version)
try:
    import mmengine
    import mmcv
    import mmpose
    print("mmengine:", mmengine.__version__)
    print("mmcv:", mmcv.__version__)
    print("mmpose:", mmpose.__version__)
    print("OK: all core MMPose deps imported.")
except Exception as e:
    print("IMPORT ERROR:", repr(e))
'@
    $checkPath = "scripts\\_check_mmpose_install.py"
    $checkScript | Set-Content $checkPath -Encoding UTF8
    & $py $checkPath
}
[INFO] Using Python: .\.venv_lm\Scripts\python.exe
[INFO] Upgrading pip...

[INFO] Installing OpenMIM (helper from OpenMMLab)...

[INFO] Installing mmengine via mim...

[INFO] Installing mmcv (>=2.0.1) via mim...

[INFO] Installing mmpose via mim (will pull HRNet-W32 and др.)...

[INFO] Quick import test (mmengine, mmcv, mmpose)...

PS D:\GM\tools\2_Landmarking_v1.0> Write-Host "=== Step done: MMPose stack installation attempt finished ==="
=== Step done: MMPose stack installation attempt finished ===
PS D:\GM\tools\2_Landmarking_v1.0> Stop-Transcript
**********************
Конец записи протокола Windows PowerShell
Время окончания: 20251116130726
**********************
